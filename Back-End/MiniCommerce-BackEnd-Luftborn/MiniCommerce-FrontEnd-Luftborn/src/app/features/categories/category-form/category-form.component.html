<div class="container">
  <h1>{{ isEdit ? 'Edit Category' : 'New Category' }}</h1>
  <p><a routerLink="/categories" class="btn btn-secondary">Back to list</a></p>
  @if (error) {
    <p class="error">{{ error }}</p>
  }
  <form [formGroup]="form" (ngSubmit)="submit()">
    <div class="form-group">
      <label for="name">Name</label>
      <input id="name" type="text" formControlName="name" />
      @if (form.get('name')?.invalid && form.get('name')?.touched) {
        <span class="field-error">Name is required.</span>
      }
    </div>
    <div class="form-group">
      <label for="description">Description</label>
      <textarea id="description" formControlName="description" rows="3"></textarea>
    </div>
    <button type="submit" class="btn btn-primary" [disabled]="form.invalid || loading">
      {{ loading ? 'Saving...' : (isEdit ? 'Update' : 'Create') }}
    </button>
  </form>
</div>
