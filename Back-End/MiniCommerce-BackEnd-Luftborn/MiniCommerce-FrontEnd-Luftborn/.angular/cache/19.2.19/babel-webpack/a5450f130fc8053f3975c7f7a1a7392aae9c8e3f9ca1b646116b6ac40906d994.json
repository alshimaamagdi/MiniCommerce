{"ast":null,"code":"import { CommonModule } from '@angular/common';\nimport { RouterLink } from '@angular/router';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../../core/services/product.service\";\nimport * as i2 from \"@angular/common\";\nconst _c0 = a0 => [\"/products\", a0, \"edit\"];\nconst _forTrack0 = ($index, $item) => $item.id;\nfunction ProductListComponent_Conditional_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 2);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(ctx_r0.error);\n  }\n}\nfunction ProductListComponent_Conditional_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\");\n    i0.ɵɵtext(1, \"Loading...\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ProductListComponent_Conditional_8_For_14_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r2 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵpipe(7, \"number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"td\");\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"td\")(11, \"a\", 3);\n    i0.ɵɵtext(12, \"Edit\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"button\", 4);\n    i0.ɵɵlistener(\"click\", function ProductListComponent_Conditional_8_For_14_Template_button_click_13_listener() {\n      const p_r3 = i0.ɵɵrestoreView(_r2).$implicit;\n      const ctx_r0 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r0.delete(p_r3.id, p_r3.name));\n    });\n    i0.ɵɵtext(14, \"Delete\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    let tmp_12_0;\n    const p_r3 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(p_r3.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate((tmp_12_0 = p_r3.categoryName) !== null && tmp_12_0 !== undefined ? tmp_12_0 : \"-\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(7, 5, p_r3.price, \"1.2-2\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(p_r3.stockQuantity);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(8, _c0, p_r3.id));\n  }\n}\nfunction ProductListComponent_Conditional_8_Conditional_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\");\n    i0.ɵɵtext(1, \"No products yet. Create one above.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ProductListComponent_Conditional_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"table\")(1, \"thead\")(2, \"tr\")(3, \"th\");\n    i0.ɵɵtext(4, \"Name\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"th\");\n    i0.ɵɵtext(6, \"Category\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"th\");\n    i0.ɵɵtext(8, \"Price\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"th\");\n    i0.ɵɵtext(10, \"Stock\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(11, \"th\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(12, \"tbody\");\n    i0.ɵɵrepeaterCreate(13, ProductListComponent_Conditional_8_For_14_Template, 15, 10, \"tr\", null, _forTrack0);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(15, ProductListComponent_Conditional_8_Conditional_15_Template, 2, 0, \"p\");\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(13);\n    i0.ɵɵrepeater(ctx_r0.products);\n    i0.ɵɵadvance(2);\n    i0.ɵɵconditional(ctx_r0.products.length === 0 && !ctx_r0.error ? 15 : -1);\n  }\n}\nexport class ProductListComponent {\n  productService;\n  products = [];\n  loading = true;\n  error = null;\n  constructor(productService) {\n    this.productService = productService;\n  }\n  ngOnInit() {\n    this.load();\n  }\n  load() {\n    this.loading = true;\n    this.error = null;\n    this.productService.getAll().subscribe({\n      next: data => {\n        this.products = data;\n        this.loading = false;\n      },\n      error: err => {\n        this.error = err?.message ?? 'Failed to load products';\n        this.loading = false;\n      }\n    });\n  }\n  delete(id, name) {\n    if (!confirm(`Delete product \"${name}\"?`)) return;\n    this.productService.delete(id).subscribe({\n      next: () => this.load(),\n      error: err => this.error = err?.message ?? 'Delete failed'\n    });\n  }\n  static ɵfac = function ProductListComponent_Factory(__ngFactoryType__) {\n    return new (__ngFactoryType__ || ProductListComponent)(i0.ɵɵdirectiveInject(i1.ProductService));\n  };\n  static ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ProductListComponent,\n    selectors: [[\"app-product-list\"]],\n    decls: 9,\n    vars: 2,\n    consts: [[1, \"container\"], [\"routerLink\", \"/products/new\", 1, \"btn\", \"btn-primary\"], [1, \"error\"], [1, \"btn\", \"btn-secondary\", 3, \"routerLink\"], [\"type\", \"button\", 1, \"btn\", \"btn-danger\", 3, \"click\"]],\n    template: function ProductListComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"h1\");\n        i0.ɵɵtext(2, \"Products\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(3, \"p\")(4, \"a\", 1);\n        i0.ɵɵtext(5, \"New Product\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵtemplate(6, ProductListComponent_Conditional_6_Template, 2, 1, \"p\", 2)(7, ProductListComponent_Conditional_7_Template, 2, 0, \"p\")(8, ProductListComponent_Conditional_8_Template, 16, 1);\n        i0.ɵɵelementEnd();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(6);\n        i0.ɵɵconditional(ctx.error ? 6 : -1);\n        i0.ɵɵadvance();\n        i0.ɵɵconditional(ctx.loading ? 7 : 8);\n      }\n    },\n    dependencies: [CommonModule, i2.DecimalPipe, RouterLink],\n    styles: [\".error[_ngcontent-%COMP%] {\\n  color: #d32f2f;\\n  margin-bottom: 1rem;\\n}\\n\\n.btn[_ngcontent-%COMP%]    + .btn[_ngcontent-%COMP%] {\\n  margin-left: 0.5rem;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvZmVhdHVyZXMvcHJvZHVjdHMvcHJvZHVjdC1saXN0L3Byb2R1Y3QtbGlzdC5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGNBQUE7RUFDQSxtQkFBQTtBQUNGOztBQUNBO0VBQ0UsbUJBQUE7QUFFRiIsInNvdXJjZXNDb250ZW50IjpbIi5lcnJvciB7XHJcbiAgY29sb3I6ICNkMzJmMmY7XHJcbiAgbWFyZ2luLWJvdHRvbTogMXJlbTtcclxufVxyXG4uYnRuICsgLmJ0biB7XHJcbiAgbWFyZ2luLWxlZnQ6IDAuNXJlbTtcclxufVxyXG4iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n  });\n}","map":{"version":3,"names":["CommonModule","RouterLink","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate","ctx_r0","error","ɵɵlistener","ProductListComponent_Conditional_8_For_14_Template_button_click_13_listener","p_r3","ɵɵrestoreView","_r2","$implicit","ɵɵnextContext","ɵɵresetView","delete","id","name","tmp_12_0","categoryName","undefined","ɵɵpipeBind2","price","stockQuantity","ɵɵproperty","ɵɵpureFunction1","_c0","ɵɵelement","ɵɵrepeaterCreate","ProductListComponent_Conditional_8_For_14_Template","_forTrack0","ɵɵtemplate","ProductListComponent_Conditional_8_Conditional_15_Template","ɵɵrepeater","products","ɵɵconditional","length","ProductListComponent","productService","loading","constructor","ngOnInit","load","getAll","subscribe","next","data","err","message","confirm","ɵɵdirectiveInject","i1","ProductService","selectors","decls","vars","consts","template","ProductListComponent_Template","rf","ctx","ProductListComponent_Conditional_6_Template","ProductListComponent_Conditional_7_Template","ProductListComponent_Conditional_8_Template","i2","DecimalPipe","styles"],"sources":["D:\\Luftborn\\MiniCommerce-FrontEnd-Luftborn\\src\\app\\features\\products\\product-list\\product-list.component.ts","D:\\Luftborn\\MiniCommerce-FrontEnd-Luftborn\\src\\app\\features\\products\\product-list\\product-list.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { RouterLink } from '@angular/router';\r\nimport { ProductService } from '../../../core/services/product.service';\r\nimport type { Product } from '../../../models/product.model';\r\n\r\n@Component({\r\n  selector: 'app-product-list',\r\n  standalone: true,\r\n  imports: [CommonModule, RouterLink],\r\n  templateUrl: './product-list.component.html',\r\n  styleUrl: './product-list.component.scss',\r\n})\r\nexport class ProductListComponent implements OnInit {\r\n  products: Product[] = [];\r\n  loading = true;\r\n  error: string | null = null;\r\n\r\n  constructor(private productService: ProductService) {}\r\n\r\n  ngOnInit(): void {\r\n    this.load();\r\n  }\r\n\r\n  load(): void {\r\n    this.loading = true;\r\n    this.error = null;\r\n    this.productService.getAll().subscribe({\r\n      next: (data) => {\r\n        this.products = data;\r\n        this.loading = false;\r\n      },\r\n      error: (err) => {\r\n        this.error = err?.message ?? 'Failed to load products';\r\n        this.loading = false;\r\n      },\r\n    });\r\n  }\r\n\r\n  delete(id: string, name: string): void {\r\n    if (!confirm(`Delete product \"${name}\"?`)) return;\r\n    this.productService.delete(id).subscribe({\r\n      next: () => this.load(),\r\n      error: (err) => (this.error = err?.message ?? 'Delete failed'),\r\n    });\r\n  }\r\n}\r\n","<div class=\"container\">\r\n  <h1>Products</h1>\r\n  <p>\r\n    <a routerLink=\"/products/new\" class=\"btn btn-primary\">New Product</a>\r\n  </p>\r\n  @if (error) {\r\n    <p class=\"error\">{{ error }}</p>\r\n  }\r\n  @if (loading) {\r\n    <p>Loading...</p>\r\n  } @else {\r\n    <table>\r\n      <thead>\r\n        <tr>\r\n          <th>Name</th>\r\n          <th>Category</th>\r\n          <th>Price</th>\r\n          <th>Stock</th>\r\n          <th></th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        @for (p of products; track p.id) {\r\n          <tr>\r\n            <td>{{ p.name }}</td>\r\n            <td>{{ p.categoryName ?? '-' }}</td>\r\n            <td>{{ p.price | number:'1.2-2' }}</td>\r\n            <td>{{ p.stockQuantity }}</td>\r\n            <td>\r\n              <a [routerLink]=\"['/products', p.id, 'edit']\" class=\"btn btn-secondary\">Edit</a>\r\n              <button type=\"button\" class=\"btn btn-danger\" (click)=\"delete(p.id, p.name)\">Delete</button>\r\n            </td>\r\n          </tr>\r\n        }\r\n      </tbody>\r\n    </table>\r\n    @if (products.length === 0 && !error) {\r\n      <p>No products yet. Create one above.</p>\r\n    }\r\n  }\r\n</div>\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}