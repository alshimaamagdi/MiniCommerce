{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { RouterLink } from '@angular/router';\nimport { ToastrModule } from 'ngx-toastr';\nlet CategoryListComponent = class CategoryListComponent {\n  categoryService;\n  toastr;\n  categories = [];\n  loading = true;\n  error = null;\n  constructor(categoryService, toastr) {\n    this.categoryService = categoryService;\n    this.toastr = toastr;\n  }\n  ngOnInit() {\n    this.load();\n  }\n  load() {\n    this.loading = true;\n    this.error = null;\n    this.categoryService.getAll().subscribe({\n      next: data => {\n        this.categories = data;\n        this.loading = false;\n      },\n      error: err => {\n        this.error = err?.message ?? 'Failed to load categories';\n        this.loading = false;\n      }\n    });\n  }\n  delete(id, name) {\n    if (!confirm(`Delete category \"${name}\"?`)) return;\n    this.categoryService.delete(id).subscribe({\n      next: () => {\n        this.toastr.success(`Category \"${name}\" deleted successfully`, 'Success');\n        this.load();\n      },\n      error: err => {\n        this.toastr.error(err?.message ?? 'Delete failed', 'Error');\n      }\n    });\n  }\n};\nCategoryListComponent = __decorate([Component({\n  selector: 'app-category-list',\n  standalone: true,\n  imports: [CommonModule, RouterLink, ToastrModule.forRoot({\n    positionClass: 'toast-top-right',\n    timeOut: 3000,\n    progressBar: true\n  })],\n  templateUrl: './category-list.component.html',\n  styleUrl: './category-list.component.scss'\n})], CategoryListComponent);\nexport { CategoryListComponent };","map":{"version":3,"names":["Component","CommonModule","RouterLink","ToastrModule","CategoryListComponent","categoryService","toastr","categories","loading","error","constructor","ngOnInit","load","getAll","subscribe","next","data","err","message","delete","id","name","confirm","success","__decorate","selector","standalone","imports","forRoot","positionClass","timeOut","progressBar","templateUrl","styleUrl"],"sources":["D:\\Luftborn\\MiniCommerce-FrontEnd-Luftborn\\src\\app\\features\\categories\\category-list\\category-list.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { RouterLink } from '@angular/router';\nimport { CategoryService } from '../../../core/services/category.service';\nimport type { Category } from '../../../models/category.model';\nimport { ToastrModule,ToastrService } from 'ngx-toastr';\n\n@Component({\n  selector: 'app-category-list',\n  standalone: true,\n  imports: [CommonModule, RouterLink,\n    ToastrModule.forRoot({\n      positionClass: 'toast-top-right',\n      timeOut: 3000,\n      progressBar: true,\n    })],\n  templateUrl: './category-list.component.html',\n  styleUrl: './category-list.component.scss',\n})\nexport class CategoryListComponent implements OnInit {\n  categories: Category[] = [];\n  loading = true;\n  error: string | null = null;\n\n  constructor(private categoryService: CategoryService,private toastr: ToastrService) {}\n\n  ngOnInit(): void {\n    this.load();\n  }\n\n  load(): void {\n    this.loading = true;\n    this.error = null;\n    this.categoryService.getAll().subscribe({\n      next: (data) => {\n        this.categories = data;\n        this.loading = false;\n      },\n      error: (err) => {\n        this.error = err?.message ?? 'Failed to load categories';\n        this.loading = false;\n      },\n    });\n  }\n\ndelete(id: string, name: string): void {\n  if (!confirm(`Delete category \"${name}\"?`)) return;\n\n  this.categoryService.delete(id).subscribe({\n    next: () => {\n      this.toastr.success(`Category \"${name}\" deleted successfully`, 'Success');\n      this.load();\n    },\n    error: (err) => {\n      this.toastr.error(err?.message ?? 'Delete failed', 'Error');\n    },\n  });\n\n  }\n}\n"],"mappings":";AAAA,SAASA,SAAS,QAAgB,eAAe;AACjD,SAASC,YAAY,QAAQ,iBAAiB;AAC9C,SAASC,UAAU,QAAQ,iBAAiB;AAG5C,SAASC,YAAY,QAAsB,YAAY;AAchD,IAAMC,qBAAqB,GAA3B,MAAMA,qBAAqB;EAKZC,eAAA;EAAyCC,MAAA;EAJ7DC,UAAU,GAAe,EAAE;EAC3BC,OAAO,GAAG,IAAI;EACdC,KAAK,GAAkB,IAAI;EAE3BC,YAAoBL,eAAgC,EAASC,MAAqB;IAA9D,KAAAD,eAAe,GAAfA,eAAe;IAA0B,KAAAC,MAAM,GAANA,MAAM;EAAkB;EAErFK,QAAQA,CAAA;IACN,IAAI,CAACC,IAAI,EAAE;EACb;EAEAA,IAAIA,CAAA;IACF,IAAI,CAACJ,OAAO,GAAG,IAAI;IACnB,IAAI,CAACC,KAAK,GAAG,IAAI;IACjB,IAAI,CAACJ,eAAe,CAACQ,MAAM,EAAE,CAACC,SAAS,CAAC;MACtCC,IAAI,EAAGC,IAAI,IAAI;QACb,IAAI,CAACT,UAAU,GAAGS,IAAI;QACtB,IAAI,CAACR,OAAO,GAAG,KAAK;MACtB,CAAC;MACDC,KAAK,EAAGQ,GAAG,IAAI;QACb,IAAI,CAACR,KAAK,GAAGQ,GAAG,EAAEC,OAAO,IAAI,2BAA2B;QACxD,IAAI,CAACV,OAAO,GAAG,KAAK;MACtB;KACD,CAAC;EACJ;EAEFW,MAAMA,CAACC,EAAU,EAAEC,IAAY;IAC7B,IAAI,CAACC,OAAO,CAAC,oBAAoBD,IAAI,IAAI,CAAC,EAAE;IAE5C,IAAI,CAAChB,eAAe,CAACc,MAAM,CAACC,EAAE,CAAC,CAACN,SAAS,CAAC;MACxCC,IAAI,EAAEA,CAAA,KAAK;QACT,IAAI,CAACT,MAAM,CAACiB,OAAO,CAAC,aAAaF,IAAI,wBAAwB,EAAE,SAAS,CAAC;QACzE,IAAI,CAACT,IAAI,EAAE;MACb,CAAC;MACDH,KAAK,EAAGQ,GAAG,IAAI;QACb,IAAI,CAACX,MAAM,CAACG,KAAK,CAACQ,GAAG,EAAEC,OAAO,IAAI,eAAe,EAAE,OAAO,CAAC;MAC7D;KACD,CAAC;EAEF;CACD;AAxCYd,qBAAqB,GAAAoB,UAAA,EAZjCxB,SAAS,CAAC;EACTyB,QAAQ,EAAE,mBAAmB;EAC7BC,UAAU,EAAE,IAAI;EAChBC,OAAO,EAAE,CAAC1B,YAAY,EAAEC,UAAU,EAChCC,YAAY,CAACyB,OAAO,CAAC;IACnBC,aAAa,EAAE,iBAAiB;IAChCC,OAAO,EAAE,IAAI;IACbC,WAAW,EAAE;GACd,CAAC,CAAC;EACLC,WAAW,EAAE,gCAAgC;EAC7CC,QAAQ,EAAE;CACX,CAAC,C,EACW7B,qBAAqB,CAwCjC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}