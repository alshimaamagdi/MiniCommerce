{"ast":null,"code":"import { __decorate } from \"tslib\";\nexport class CategoryListComponent {\n  categoryService;\n  toastr;\n  categories = [];\n  selectedCategory = null;\n  error = null; // <--- ضيفي ده\n  confirmModal;\n  constructor(categoryService, toastr) {\n    this.categoryService = categoryService;\n    this.toastr = toastr;\n  }\n  ngOnInit() {\n    this.load();\n  }\n  load() {\n    this.error = null; // reset error\n    this.categoryService.getAll().subscribe({\n      next: data => this.categories = data,\n      error: err => this.error = err?.message ?? 'Failed to load'\n    });\n  }\n  openDeleteModal(category) {\n    this.selectedCategory = category;\n    this.confirmModal.onConfirm = () => this.confirmDelete();\n    this.confirmModal.open();\n  }\n  confirmDelete() {\n    if (!this.selectedCategory) return;\n    this.categoryService.delete(this.selectedCategory.id).subscribe({\n      next: () => {\n        this.toastr.success(`Category \"${this.selectedCategory?.name}\" deleted successfully`);\n        this.load();\n      },\n      error: err => this.toastr.error(err?.message ?? 'Delete failed')\n    });\n  }\n}\n__decorate([ViewChild('confirmModal')], CategoryListComponent.prototype, \"confirmModal\", void 0);","map":{"version":3,"names":["CategoryListComponent","categoryService","toastr","categories","selectedCategory","error","confirmModal","constructor","ngOnInit","load","getAll","subscribe","next","data","err","message","openDeleteModal","category","onConfirm","confirmDelete","open","delete","id","success","name","__decorate","ViewChild"],"sources":["D:\\Luftborn\\MiniCommerce-FrontEnd-Luftborn\\src\\app\\features\\categories\\category-list\\category-list.component.ts"],"sourcesContent":["export class CategoryListComponent implements OnInit {\n  categories: Category[] = [];\n  selectedCategory: Category | null = null;\n  error: string | null = null; // <--- ضيفي ده\n\n  @ViewChild('confirmModal') confirmModal!: ConfirmModalComponent;\n\n  constructor(\n    private categoryService: CategoryService,\n    private toastr: ToastrService\n  ) {}\n\n  ngOnInit(): void {\n    this.load();\n  }\n\n  load(): void {\n    this.error = null; // reset error\n    this.categoryService.getAll().subscribe({\n      next: (data) => (this.categories = data),\n      error: (err) => this.error = err?.message ?? 'Failed to load',\n    });\n  }\n\n  openDeleteModal(category: Category) {\n    this.selectedCategory = category;\n    this.confirmModal.onConfirm = () => this.confirmDelete();\n    this.confirmModal.open();\n  }\n\n  confirmDelete() {\n    if (!this.selectedCategory) return;\n    this.categoryService.delete(this.selectedCategory.id).subscribe({\n      next: () => {\n        this.toastr.success(`Category \"${this.selectedCategory?.name}\" deleted successfully`);\n        this.load();\n      },\n      error: (err) => this.toastr.error(err?.message ?? 'Delete failed'),\n    });\n  }\n}\n"],"mappings":";AAAA,OAAM,MAAOA,qBAAqB;EAQtBC,eAAA;EACAC,MAAA;EARVC,UAAU,GAAe,EAAE;EAC3BC,gBAAgB,GAAoB,IAAI;EACxCC,KAAK,GAAkB,IAAI,CAAC,CAAC;EAEFC,YAAY;EAEvCC,YACUN,eAAgC,EAChCC,MAAqB;IADrB,KAAAD,eAAe,GAAfA,eAAe;IACf,KAAAC,MAAM,GAANA,MAAM;EACb;EAEHM,QAAQA,CAAA;IACN,IAAI,CAACC,IAAI,EAAE;EACb;EAEAA,IAAIA,CAAA;IACF,IAAI,CAACJ,KAAK,GAAG,IAAI,CAAC,CAAC;IACnB,IAAI,CAACJ,eAAe,CAACS,MAAM,EAAE,CAACC,SAAS,CAAC;MACtCC,IAAI,EAAGC,IAAI,IAAM,IAAI,CAACV,UAAU,GAAGU,IAAK;MACxCR,KAAK,EAAGS,GAAG,IAAK,IAAI,CAACT,KAAK,GAAGS,GAAG,EAAEC,OAAO,IAAI;KAC9C,CAAC;EACJ;EAEAC,eAAeA,CAACC,QAAkB;IAChC,IAAI,CAACb,gBAAgB,GAAGa,QAAQ;IAChC,IAAI,CAACX,YAAY,CAACY,SAAS,GAAG,MAAM,IAAI,CAACC,aAAa,EAAE;IACxD,IAAI,CAACb,YAAY,CAACc,IAAI,EAAE;EAC1B;EAEAD,aAAaA,CAAA;IACX,IAAI,CAAC,IAAI,CAACf,gBAAgB,EAAE;IAC5B,IAAI,CAACH,eAAe,CAACoB,MAAM,CAAC,IAAI,CAACjB,gBAAgB,CAACkB,EAAE,CAAC,CAACX,SAAS,CAAC;MAC9DC,IAAI,EAAEA,CAAA,KAAK;QACT,IAAI,CAACV,MAAM,CAACqB,OAAO,CAAC,aAAa,IAAI,CAACnB,gBAAgB,EAAEoB,IAAI,wBAAwB,CAAC;QACrF,IAAI,CAACf,IAAI,EAAE;MACb,CAAC;MACDJ,KAAK,EAAGS,GAAG,IAAK,IAAI,CAACZ,MAAM,CAACG,KAAK,CAACS,GAAG,EAAEC,OAAO,IAAI,eAAe;KAClE,CAAC;EACJ;;AAlC2BU,UAAA,EAA1BC,SAAS,CAAC,cAAc,CAAC,C,0DAAsC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}